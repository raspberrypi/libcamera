{
    "version": 2.0,
    "target": "bcm2835",
    "algorithms": [
        {
            "rpi.black_level":
            {
                "black_level": 4096
            }
        },
        {
            "rpi.lux":
            {
                "reference_shutter_speed": 17247,
                "reference_gain": 1.0,
                "reference_aperture": 1.0,
                "reference_lux": 1090,
                "reference_Y": 24531
            }
        },
        {
            "rpi.noise":
            {
                "reference_constant": 0,
                "reference_slope": 3.289
            }
        },
        {
            "rpi.sdn": { }
        },
        {
            "rpi.agc":
            {
                "metering_modes":
                {
                    "centre-weighted":
                    {
                        "weights": [ 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0 ]
                    },
                    "spot":
                    {
                        "weights": [ 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                    },
                    "matrix":
                    {
                        "weights": [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ]
                    }
                },
                "exposure_modes":
                {
                    "normal":
                    {
                        "shutter": [ 100, 10000, 30000, 60000, 120000 ],
                        "gain": [ 1.0, 2.0, 4.0, 6.0, 6.0 ]
                    },
                    "short":
                    {
                        "shutter": [ 100, 5000, 10000, 20000, 120000 ],
                        "gain": [ 1.0, 2.0, 4.0, 6.0, 6.0 ]
                    }
                },
                "constraint_modes":
                {
                    "normal": [
                        {
                            "bound": "LOWER",
                            "q_lo": 0.98,
                            "q_hi": 1.0,
                            "y_target":
                            [
                                0, 0.5,
                                1000, 0.5
                            ]
                        }
                    ],
                    "highlight": [
                        {
                            "bound": "LOWER",
                            "q_lo": 0.98,
                            "q_hi": 1.0,
                            "y_target":
                            [
                                0, 0.5,
                                1000, 0.5
                            ]
                        },
                        {
                            "bound": "UPPER",
                            "q_lo": 0.98,
                            "q_hi": 1.0,
                            "y_target":
                            [
                                0, 0.8,
                                1000, 0.8
                            ]
                        }
                    ]
                },
                "y_target":
                [
                    0, 0.16,
                    1000, 0.165,
                    10000, 0.17
                ]
            }
        },
        {
            "rpi.alsc":
            {
                "omega": 1.3,
                "n_iter": 100,
                "luminance_strength": 0.5,
                "calibrations_Cr": [
                    {
                        "ct": 3000,
                        "table":
                        [
                            0.792, 0.798, 0.799, 0.803, 0.806, 0.808, 0.809, 0.809, 0.807, 0.803, 0.801, 0.798, 0.796, 0.795, 0.794, 0.792,
                            0.801, 0.801, 0.802, 0.809, 0.812, 0.816, 0.818, 0.818, 0.818, 0.816, 0.814, 0.813, 0.811, 0.809, 0.806, 0.803,
                            0.806, 0.806, 0.809, 0.813, 0.817, 0.823, 0.824, 0.826, 0.826, 0.825, 0.822, 0.819, 0.818, 0.817, 0.816, 0.814,
                            0.808, 0.809, 0.813, 0.817, 0.823, 0.825, 0.828, 0.831, 0.831, 0.829, 0.827, 0.825, 0.824, 0.825, 0.825, 0.825,
                            0.809, 0.811, 0.815, 0.821, 0.825, 0.828, 0.831, 0.832, 0.832, 0.832, 0.831, 0.831, 0.831, 0.832, 0.834, 0.835,
                            0.809, 0.811, 0.816, 0.821, 0.826, 0.829, 0.832, 0.832, 0.835, 0.834, 0.833, 0.832, 0.833, 0.834, 0.836, 0.837,
                            0.809, 0.809, 0.816, 0.821, 0.826, 0.829, 0.832, 0.834, 0.835, 0.834, 0.833, 0.832, 0.833, 0.835, 0.836, 0.836,
                            0.804, 0.805, 0.811, 0.817, 0.821, 0.826, 0.829, 0.832, 0.833, 0.832, 0.831, 0.831, 0.831, 0.832, 0.834, 0.833,
                            0.796, 0.797, 0.804, 0.811, 0.817, 0.821, 0.824, 0.829, 0.829, 0.827, 0.827, 0.826, 0.827, 0.829, 0.829, 0.829,
                            0.788, 0.788, 0.796, 0.803, 0.809, 0.814, 0.817, 0.821, 0.821, 0.821, 0.819, 0.819, 0.821, 0.825, 0.827, 0.827,
                            0.775, 0.777, 0.784, 0.791, 0.797, 0.802, 0.806, 0.811, 0.813, 0.813, 0.812, 0.813, 0.816, 0.818, 0.819, 0.819,
                            0.767, 0.774, 0.777, 0.784, 0.791, 0.797, 0.802, 0.806, 0.809, 0.811, 0.811, 0.812, 0.812, 0.816, 0.816, 0.816
                        ]
                    },
                    {
                        "ct": 4000,
                        "table":
                        [
                            1.009, 1.013, 1.018, 1.027, 1.034, 1.038, 1.038, 1.038, 1.037, 1.032, 1.026, 1.018, 1.011, 1.005, 0.999, 0.991,
                            1.012, 1.015, 1.023, 1.032, 1.041, 1.045, 1.051, 1.052, 1.052, 1.047, 1.042, 1.035, 1.029, 1.023, 1.016, 1.006,
                            1.015, 1.018, 1.027, 1.037, 1.044, 1.051, 1.056, 1.058, 1.058, 1.055, 1.051, 1.044, 1.041, 1.036, 1.032, 1.028,
                            1.014, 1.021, 1.029, 1.037, 1.045, 1.052, 1.057, 1.061, 1.061, 1.058, 1.054, 1.051, 1.049, 1.047, 1.045, 1.042,
                            1.012, 1.018, 1.029, 1.039, 1.046, 1.053, 1.056, 1.059, 1.061, 1.059, 1.058, 1.055, 1.055, 1.054, 1.055, 1.055,
                            1.011, 1.014, 1.027, 1.036, 1.046, 1.052, 1.057, 1.059, 1.061, 1.061, 1.059, 1.057, 1.057, 1.058, 1.058, 1.058,
                            1.006, 1.011, 1.024, 1.035, 1.044, 1.051, 1.056, 1.058, 1.061, 1.061, 1.058, 1.057, 1.057, 1.057, 1.058, 1.058,
                            0.998, 1.006, 1.017, 1.028, 1.038, 1.046, 1.051, 1.056, 1.058, 1.057, 1.055, 1.055, 1.055, 1.056, 1.056, 1.054,
                            0.988, 0.994, 1.006, 1.018, 1.028, 1.038, 1.046, 1.051, 1.051, 1.051, 1.049, 1.048, 1.049, 1.049, 1.051, 1.051,
                            0.972, 0.979, 0.993, 1.006, 1.018, 1.027, 1.033, 1.039, 1.041, 1.041, 1.039, 1.039, 1.041, 1.044, 1.046, 1.046,
                            0.954, 0.962, 0.977, 0.989, 1.001, 1.011, 1.018, 1.024, 1.029, 1.032, 1.032, 1.032, 1.033, 1.035, 1.038, 1.039,
                            0.944, 0.954, 0.962, 0.977, 0.989, 1.001, 1.011, 1.018, 1.024, 1.024, 1.026, 1.027, 1.029, 1.029, 1.029, 1.029
                        ]
                    },
                    {
                        "ct": 6500,
                        "table":
                        [
                            1.288, 1.292, 1.304, 1.324, 1.339, 1.348, 1.349, 1.348, 1.347, 1.339, 1.326, 1.314, 1.302, 1.287, 1.274, 1.261,
                            1.292, 1.304, 1.322, 1.334, 1.349, 1.359, 1.368, 1.368, 1.364, 1.361, 1.352, 1.337, 1.327, 1.315, 1.303, 1.289,
                            1.305, 1.312, 1.332, 1.348, 1.359, 1.371, 1.379, 1.385, 1.385, 1.379, 1.373, 1.363, 1.354, 1.347, 1.335, 1.327,
                            1.312, 1.321, 1.337, 1.357, 1.369, 1.379, 1.387, 1.396, 1.397, 1.395, 1.389, 1.381, 1.376, 1.373, 1.371, 1.365,
                            1.319, 1.328, 1.343, 1.361, 1.377, 1.387, 1.396, 1.399, 1.403, 1.403, 1.399, 1.395, 1.394, 1.394, 1.395, 1.397,
                            1.319, 1.328, 1.345, 1.365, 1.379, 1.391, 1.399, 1.403, 1.411, 1.411, 1.409, 1.406, 1.406, 1.408, 1.411, 1.409,
                            1.317, 1.326, 1.345, 1.365, 1.379, 1.391, 1.401, 1.408, 1.411, 1.412, 1.411, 1.409, 1.409, 1.413, 1.416, 1.419,
                            1.308, 1.319, 1.339, 1.359, 1.375, 1.389, 1.399, 1.405, 1.409, 1.411, 1.409, 1.409, 1.409, 1.415, 1.418, 1.419,
                            1.291, 1.308, 1.328, 1.351, 1.366, 1.381, 1.391, 1.401, 1.405, 1.405, 1.405, 1.406, 1.408, 1.412, 1.417, 1.419,
                            1.272, 1.291, 1.311, 1.331, 1.353, 1.369, 1.381, 1.391, 1.396, 1.397, 1.398, 1.402, 1.404, 1.411, 1.415, 1.417,
                            1.247, 1.272, 1.291, 1.316, 1.338, 1.354, 1.369, 1.381, 1.388, 1.391, 1.394, 1.395, 1.399, 1.404, 1.411, 1.415,
                            1.247, 1.247, 1.274, 1.296, 1.319, 1.341, 1.355, 1.369, 1.381, 1.389, 1.389, 1.394, 1.395, 1.401, 1.405, 1.406
                        ]
                    }
                ],
                "calibrations_Cb": [
                    {
                        "ct": 3000,
                        "table":
                        [
                            2.614, 2.679, 2.791, 2.891, 2.984, 3.058, 3.058, 3.058, 3.056, 3.005, 2.933, 2.848, 2.764, 2.672, 2.575, 2.484,
                            2.659, 2.754, 2.869, 2.975, 3.053, 3.142, 3.178, 3.178, 3.159, 3.106, 3.037, 2.963, 2.874, 2.784, 2.686, 2.605,
                            2.687, 2.805, 2.933, 3.053, 3.142, 3.192, 3.267, 3.267, 3.264, 3.231, 3.179, 3.116, 3.042, 2.963, 2.878, 2.808,
                            2.718, 2.847, 2.969, 3.091, 3.192, 3.267, 3.295, 3.341, 3.341, 3.331, 3.278, 3.238, 3.187, 3.127, 3.064, 3.012,
                            2.722, 2.877, 2.993, 3.117, 3.216, 3.295, 3.341, 3.369, 3.386, 3.381, 3.352, 3.324, 3.281, 3.249, 3.207, 3.157,
                            2.722, 2.877, 3.007, 3.128, 3.237, 3.314, 3.369, 3.396, 3.417, 3.401, 3.381, 3.358, 3.331, 3.303, 3.278, 3.255,
                            2.722, 2.872, 3.007, 3.128, 3.237, 3.316, 3.378, 3.416, 3.419, 3.418, 3.396, 3.374, 3.357, 3.329, 3.309, 3.295,
                            2.708, 2.855, 2.989, 3.117, 3.225, 3.312, 3.378, 3.401, 3.418, 3.403, 3.395, 3.374, 3.358, 3.335, 3.309, 3.301,
                            2.686, 2.807, 2.941, 3.083, 3.193, 3.281, 3.333, 3.378, 3.395, 3.395, 3.381, 3.362, 3.345, 3.323, 3.305, 3.288,
                            2.636, 2.731, 2.877, 3.011, 3.129, 3.221, 3.281, 3.333, 3.352, 3.352, 3.333, 3.323, 3.301, 3.295, 3.272, 3.253,
                            2.547, 2.651, 2.781, 2.931, 3.039, 3.129, 3.221, 3.271, 3.284, 3.284, 3.275, 3.261, 3.255, 3.229, 3.199, 3.185,
                            2.483, 2.547, 2.671, 2.809, 2.942, 3.041, 3.138, 3.191, 3.207, 3.207, 3.207, 3.192, 3.172, 3.156, 3.149, 3.118
                        ]
                    },
                    {
                        "ct": 4000,
                        "table":
                        [
                            2.129, 2.159, 2.221, 2.281, 2.333, 2.368, 2.368, 2.368, 2.358, 2.331, 2.293, 2.243, 2.193, 2.144, 2.087, 2.036,
                            2.151, 2.211, 2.274, 2.326, 2.372, 2.416, 2.435, 2.435, 2.419, 2.391, 2.356, 2.313, 2.267, 2.217, 2.166, 2.113,
                            2.183, 2.242, 2.306, 2.368, 2.423, 2.456, 2.481, 2.487, 2.487, 2.471, 2.441, 2.406, 2.373, 2.329, 2.286, 2.248,
                            2.201, 2.273, 2.338, 2.404, 2.456, 2.492, 2.519, 2.537, 2.537, 2.529, 2.508, 2.484, 2.456, 2.429, 2.396, 2.371,
                            2.206, 2.291, 2.359, 2.425, 2.481, 2.518, 2.547, 2.561, 2.566, 2.564, 2.551, 2.534, 2.517, 2.497, 2.478, 2.459,
                            2.206, 2.294, 2.367, 2.435, 2.489, 2.533, 2.561, 2.576, 2.588, 2.581, 2.571, 2.559, 2.548, 2.533, 2.528, 2.509,
                            2.206, 2.295, 2.367, 2.439, 2.498, 2.539, 2.573, 2.591, 2.594, 2.591, 2.581, 2.571, 2.561, 2.552, 2.543, 2.534,
                            2.203, 2.289, 2.366, 2.439, 2.498, 2.539, 2.573, 2.591, 2.594, 2.592, 2.581, 2.575, 2.566, 2.559, 2.549, 2.544,
                            2.193, 2.271, 2.344, 2.419, 2.485, 2.531, 2.565, 2.577, 2.591, 2.586, 2.577, 2.573, 2.563, 2.554, 2.545, 2.543,
                            2.171, 2.229, 2.312, 2.393, 2.459, 2.505, 2.533, 2.565, 2.569, 2.569, 2.564, 2.553, 2.548, 2.535, 2.531, 2.527,
                            2.117, 2.179, 2.262, 2.343, 2.414, 2.461, 2.505, 2.532, 2.539, 2.539, 2.532, 2.524, 2.515, 2.511, 2.501, 2.493,
                            2.077, 2.117, 2.201, 2.287, 2.365, 2.417, 2.468, 2.499, 2.503, 2.503, 2.503, 2.497, 2.491, 2.479, 2.468, 2.456
                        ]
                    },
                    {
                        "ct": 6500,
                        "table":
                        [
                            1.576, 1.602, 1.624, 1.648, 1.664, 1.674, 1.674, 1.673, 1.663, 1.651, 1.633, 1.611, 1.593, 1.568, 1.544, 1.521,
                            1.583, 1.609, 1.635, 1.659, 1.671, 1.676, 1.684, 1.687, 1.676, 1.664, 1.651, 1.634, 1.614, 1.594, 1.568, 1.551,
                            1.583, 1.611, 1.637, 1.661, 1.676, 1.684, 1.689, 1.692, 1.691, 1.679, 1.669, 1.661, 1.648, 1.633, 1.617, 1.597,
                            1.583, 1.611, 1.636, 1.659, 1.674, 1.684, 1.692, 1.695, 1.694, 1.691, 1.682, 1.677, 1.668, 1.661, 1.652, 1.639,
                            1.578, 1.607, 1.631, 1.653, 1.669, 1.683, 1.693, 1.695, 1.696, 1.692, 1.687, 1.683, 1.678, 1.676, 1.672, 1.668,
                            1.574, 1.604, 1.628, 1.651, 1.669, 1.683, 1.693, 1.697, 1.697, 1.694, 1.689, 1.686, 1.685, 1.683, 1.682, 1.681,
                            1.568, 1.602, 1.629, 1.653, 1.671, 1.683, 1.694, 1.698, 1.698, 1.696, 1.689, 1.687, 1.687, 1.687, 1.687, 1.684,
                            1.567, 1.599, 1.628, 1.654, 1.671, 1.687, 1.697, 1.699, 1.699, 1.697, 1.691, 1.688, 1.688, 1.689, 1.689, 1.687,
                            1.564, 1.598, 1.628, 1.654, 1.671, 1.687, 1.697, 1.699, 1.699, 1.695, 1.691, 1.689, 1.689, 1.688, 1.687, 1.686,
                            1.556, 1.582, 1.619, 1.646, 1.667, 1.682, 1.689, 1.694, 1.695, 1.691, 1.689, 1.687, 1.684, 1.684, 1.683, 1.684,
                            1.539, 1.567, 1.597, 1.629, 1.653, 1.667, 1.682, 1.687, 1.687, 1.684, 1.681, 1.679, 1.679, 1.674, 1.674, 1.673,
                            1.523, 1.539, 1.581, 1.612, 1.639, 1.656, 1.671, 1.681, 1.683, 1.681, 1.679, 1.675, 1.671, 1.666, 1.665, 1.661
                        ]
                    }
                ],
                "luminance_lut":
                [
                    2.049, 1.919, 1.821, 1.752, 1.701, 1.665, 1.647, 1.645, 1.645, 1.646, 1.651, 1.668, 1.697, 1.741, 1.802, 1.887,
                    1.873, 1.746, 1.626, 1.534, 1.468, 1.423, 1.393, 1.377, 1.375, 1.378, 1.396, 1.424, 1.465, 1.523, 1.605, 1.711,
                    1.653, 1.538, 1.427, 1.349, 1.291, 1.251, 1.225, 1.207, 1.206, 1.211, 1.231, 1.261, 1.299, 1.351, 1.423, 1.517,
                    1.518, 1.433, 1.328, 1.235, 1.179, 1.141, 1.113, 1.098, 1.098, 1.102, 1.125, 1.155, 1.195, 1.245, 1.321, 1.399,
                    1.426, 1.347, 1.249, 1.191, 1.139, 1.085, 1.047, 1.029, 1.029, 1.034, 1.058, 1.097, 1.147, 1.205, 1.259, 1.323,
                    1.429, 1.339, 1.237, 1.161, 1.102, 1.058, 1.033, 1.015, 1.001, 1.023, 1.039, 1.069, 1.111, 1.164, 1.232, 1.309,
                    1.442, 1.347, 1.244, 1.168, 1.119, 1.083, 1.049, 1.017, 1.004, 1.025, 1.062, 1.092, 1.125, 1.169, 1.238, 1.317,
                    1.533, 1.422, 1.335, 1.244, 1.168, 1.119, 1.086, 1.067, 1.067, 1.071, 1.094, 1.125, 1.169, 1.238, 1.301, 1.371,
                    1.669, 1.539, 1.422, 1.337, 1.274, 1.228, 1.196, 1.174, 1.172, 1.172, 1.191, 1.218, 1.252, 1.301, 1.377, 1.468,
                    1.891, 1.748, 1.616, 1.524, 1.453, 1.401, 1.365, 1.341, 1.329, 1.329, 1.341, 1.364, 1.399, 1.446, 1.514, 1.608,
                    2.245, 2.074, 1.925, 1.815, 1.733, 1.673, 1.626, 1.595, 1.573, 1.571, 1.571, 1.589, 1.624, 1.677, 1.736, 1.841,
                    2.532, 2.348, 2.221, 2.124, 2.051, 1.994, 1.946, 1.912, 1.892, 1.889, 1.889, 1.889, 1.902, 1.929, 1.981, 2.058
                ],
                "sigma": 0.0041,
                "sigma_Cb": 0.01178
            }
        },
        {
            "rpi.contrast":
            {
                "ce_enable": 1,
                "gamma_curve":
                [
                    0, 0,
                    1024, 5040,
                    2048, 9338,
                    3072, 12356,
                    4096, 15312,
                    5120, 18051,
                    6144, 20790,
                    7168, 23193,
                    8192, 25744,
                    9216, 27942,
                    10240, 30035,
                    11264, 32005,
                    12288, 33975,
                    13312, 35815,
                    14336, 37600,
                    15360, 39168,
                    16384, 40642,
                    18432, 43379,
                    20480, 45749,
                    22528, 47753,
                    24576, 49621,
                    26624, 51253,
                    28672, 52698,
                    30720, 53796,
                    32768, 54876,
                    36864, 57012,
                    40960, 58656,
                    45056, 59954,
                    49152, 61183,
                    53248, 62355,
                    57344, 63419,
                    61440, 64476,
                    65535, 65535
                ]
            }
        },
        {
            "rpi.sharpen": { }
        }
    ]
}
